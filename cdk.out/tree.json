{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.230.0"},"children":{"AppStack":{"id":"AppStack","path":"AppStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"HelloLambda":{"id":"HelloLambda","path":"AppStack/HelloLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AppStack/HelloLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AppStack/HelloLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"AppStack/HelloLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"AppStack/HelloLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"AppStack/HelloLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"AppStack/HelloLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AppStack/HelloLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"d22c466cde7b85d1f369066ade6e591cacf2c100c12977441f74812326237a60.zip"},"environment":{"variables":{"MESSAGE":"Hello from AWS CDK Pipeline!"}},"handler":"index.handler","role":{"Fn::GetAtt":["HelloLambdaServiceRoleE071F162","Arn"]},"runtime":"nodejs18.x"}}}}},"HelloApi":{"id":"HelloApi","path":"AppStack/HelloApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AppStack/HelloApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API Gateway calling Lambda","name":"HelloService"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"AppStack/HelloApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"AppStack/HelloApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"AppStack/HelloApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"AppStack/HelloApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["HelloApiCloudWatchRoleDEA499C9","Arn"]}}}},"Deployment":{"id":"Deployment","path":"AppStack/HelloApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AppStack/HelloApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API Gateway calling Lambda","restApiId":{"Ref":"HelloApi3F989F66"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"AppStack/HelloApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AppStack/HelloApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"HelloApiDeployment9558280831930657074a80f4f5fcab99606ed3d8"},"restApiId":{"Ref":"HelloApi3F989F66"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"AppStack/HelloApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"Default":{"id":"Default","path":"AppStack/HelloApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.230.0","metadata":[]},"children":{"hello":{"id":"hello","path":"AppStack/HelloApi/Default/hello","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AppStack/HelloApi/Default/hello/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["HelloApi3F989F66","RootResourceId"]},"pathPart":"hello","restApiId":{"Ref":"HelloApi3F989F66"}}}},"GET":{"id":"GET","path":"AppStack/HelloApi/Default/hello/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"ApiPermission.AppStackHelloApiBACB5709.GET..hello":{"id":"ApiPermission.AppStackHelloApiBACB5709.GET..hello","path":"AppStack/HelloApi/Default/hello/GET/ApiPermission.AppStackHelloApiBACB5709.GET..hello","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HelloLambda3D9C82D6","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/",{"Ref":"HelloApiDeploymentStageprodE85054A7"},"/GET/hello"]]}}}},"ApiPermission.Test.AppStackHelloApiBACB5709.GET..hello":{"id":"ApiPermission.Test.AppStackHelloApiBACB5709.GET..hello","path":"AppStack/HelloApi/Default/hello/GET/ApiPermission.Test.AppStackHelloApiBACB5709.GET..hello","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HelloLambda3D9C82D6","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/test-invoke-stage/GET/hello"]]}}}},"Resource":{"id":"Resource","path":"AppStack/HelloApi/Default/hello/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HelloLambda3D9C82D6","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"HelloApihello0292B1E3"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}}}}}}}},"ApiUrl":{"id":"ApiUrl","path":"AppStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"AppStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"AppStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}},"Condition":{"id":"Condition","path":"AppStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AppStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AppStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"PipelineStack":{"id":"PipelineStack","path":"PipelineStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"CDKPipeline":{"id":"CDKPipeline","path":"PipelineStack/CDKPipeline","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"2.230.0","metadata":[]},"children":{"ArtifactsBucket":{"id":"ArtifactsBucket","path":"PipelineStack/CDKPipeline/ArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/ArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms"}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}}},"Policy":{"id":"Policy","path":"PipelineStack/CDKPipeline/ArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/ArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"CDKPipelineArtifactsBucket831C00C4"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"Role":{"id":"Role","path":"PipelineStack/CDKPipeline/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"PipelineStack/CDKPipeline/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PipelineStack/CDKPipeline/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},"/*"]]}]},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["CDKPipelineSourceGitHubCodePipelineActionRole0AA987BB","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["CDKPipelineBuildSynthCodePipelineActionRole38F6C48E","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["CDKPipelineDeployCFNDeployCodePipelineActionRole4A5B9F9A","Arn"]}}],"Version":"2012-10-17"},"policyName":"CDKPipelineRoleDefaultPolicy7E182877","roles":[{"Ref":"CDKPipelineRole38866DD0"}]}}}}}}},"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"CDKPipelineArtifactsBucket831C00C4"}},"name":"CDK-Auto-Deploy","roleArn":{"Fn::GetAtt":["CDKPipelineRole38866DD0","Arn"]},"stages":[{"name":"Source","actions":[{"name":"GitHub","outputArtifacts":[{"name":"Artifact_Source_GitHub"}],"actionTypeId":{"category":"Source","version":"1","owner":"AWS","provider":"CodeStarSourceConnection"},"configuration":{"ConnectionArn":"arn:aws:codeconnections:us-east-1:029448392222:connection/25eed57b-94d8-4d01-9d18-6aa1848254d5","FullRepositoryId":"altaf-khan-jk/ci-cd-lab3","BranchName":"main"},"runOrder":1,"roleArn":{"Fn::GetAtt":["CDKPipelineSourceGitHubCodePipelineActionRole0AA987BB","Arn"]}}]},{"name":"Build","actions":[{"name":"Synth","inputArtifacts":[{"name":"Artifact_Source_GitHub"}],"outputArtifacts":[{"name":"Artifact_Build_Synth"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"BuildProject097C5DB7"}},"runOrder":1,"roleArn":{"Fn::GetAtt":["CDKPipelineBuildSynthCodePipelineActionRole38F6C48E","Arn"]}}]},{"name":"Deploy","actions":[{"name":"CFN_Deploy","inputArtifacts":[{"name":"Artifact_Build_Synth"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"CloudFormation"},"configuration":{"StackName":"CDK-Application-Stack","Capabilities":"CAPABILITY_NAMED_IAM","RoleArn":{"Fn::GetAtt":["CDKPipelineDeployCFNDeployRoleFC1CCF3B","Arn"]},"ActionMode":"CREATE_UPDATE","TemplatePath":"Artifact_Build_Synth::template.yml"},"runOrder":1,"roleArn":{"Fn::GetAtt":["CDKPipelineDeployCFNDeployCodePipelineActionRole4A5B9F9A","Arn"]}}]}]}}},"Source":{"id":"Source","path":"PipelineStack/CDKPipeline/Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"GitHub":{"id":"GitHub","path":"PipelineStack/CDKPipeline/Source/GitHub","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"PipelineStack/CDKPipeline/Source/GitHub/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"PipelineStack/CDKPipeline/Source/GitHub/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Source/GitHub/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CDKPipelineRole38866DD0","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PipelineStack/CDKPipeline/Source/GitHub/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Source/GitHub/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"codestar-connections:UseConnection","Effect":"Allow","Resource":"arn:aws:codeconnections:us-east-1:029448392222:connection/25eed57b-94d8-4d01-9d18-6aa1848254d5"},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},"/*"]]}]},{"Action":["s3:PutObjectAcl","s3:PutObjectVersionAcl"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},"/*"]]}}],"Version":"2012-10-17"},"policyName":"CDKPipelineSourceGitHubCodePipelineActionRoleDefaultPolicy3AFEDB92","roles":[{"Ref":"CDKPipelineSourceGitHubCodePipelineActionRole0AA987BB"}]}}}}}}}}}}},"Build":{"id":"Build","path":"PipelineStack/CDKPipeline/Build","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Synth":{"id":"Synth","path":"PipelineStack/CDKPipeline/Build/Synth","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"PipelineStack/CDKPipeline/Build/Synth/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"PipelineStack/CDKPipeline/Build/Synth/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Build/Synth/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CDKPipelineRole38866DD0","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PipelineStack/CDKPipeline/Build/Synth/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Build/Synth/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["BuildProject097C5DB7","Arn"]}}],"Version":"2012-10-17"},"policyName":"CDKPipelineBuildSynthCodePipelineActionRoleDefaultPolicyD914D813","roles":[{"Ref":"CDKPipelineBuildSynthCodePipelineActionRole38F6C48E"}]}}}}}}}}}}},"Deploy":{"id":"Deploy","path":"PipelineStack/CDKPipeline/Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"CFN_Deploy":{"id":"CFN_Deploy","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CDKPipelineRole38866DD0","Arn"]}}}],"Version":"2012-10-17"}}}},"8389e75f-0810-4838-bf64-d6f85a95cf83":{"id":"8389e75f-0810-4838-bf64-d6f85a95cf83","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/CodePipelineActionRole/8389e75f-0810-4838-bf64-d6f85a95cf83","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["CDKPipelineDeployCFNDeployRoleFC1CCF3B","Arn"]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},"/*"]]}]},{"Action":["cloudformation:CreateStack","cloudformation:DescribeStack*","cloudformation:GetStackPolicy","cloudformation:GetTemplate*","cloudformation:SetStackPolicy","cloudformation:UpdateStack","cloudformation:ValidateTemplate"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudformation:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":stack/CDK-Application-Stack/*"]]}}],"Version":"2012-10-17"},"policyName":"CDKPipelineDeployCFNDeployCodePipelineActionRoleDefaultPolicyEFE2CF6F","roles":[{"Ref":"CDKPipelineDeployCFNDeployCodePipelineActionRole4A5B9F9A"}]}}}}}}},"Role":{"id":"Role","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"cloudformation.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PipelineStack/CDKPipeline/Deploy/CFN_Deploy/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},"/*"]]}]},{"Action":"*","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CDKPipelineDeployCFNDeployRoleDefaultPolicy05C7820B","roles":[{"Ref":"CDKPipelineDeployCFNDeployRoleFC1CCF3B"}]}}}}}}}}}}}}},"BuildProject":{"id":"BuildProject","path":"PipelineStack/BuildProject","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"2.230.0","metadata":[]},"children":{"Role":{"id":"Role","path":"PipelineStack/BuildProject/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"PipelineStack/BuildProject/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"PipelineStack/BuildProject/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PipelineStack/BuildProject/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"PipelineStack/BuildProject/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"BuildProject097C5DB7"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"BuildProject097C5DB7"},":*"]]}]},{"Action":["codebuild:CreateReportGroup","codebuild:CreateReport","codebuild:UpdateReport","codebuild:BatchPutTestCases","codebuild:BatchPutCodeCoverages"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"BuildProject097C5DB7"},"-*"]]}},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CDKPipelineArtifactsBucket831C00C4","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"BuildProjectRoleDefaultPolicy3E9F248C","roles":[{"Ref":"BuildProjectRoleAA92C755"}]}}}}}}},"Resource":{"id":"Resource","path":"PipelineStack/BuildProject/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["BuildProjectRoleAA92C755","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"install\": {\n      \"commands\": [\n        \"npm install -g aws-cdk\",\n        \"npm ci\"\n      ]\n    },\n    \"build\": {\n      \"commands\": [\n        \"npm run build\",\n        \"cdk synth > template.yml\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"base-directory\": \".\",\n    \"files\": [\n      \"template.yml\",\n      \"**/*\"\n    ]\n  }\n}"}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"PipelineStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"PipelineStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}},"Condition":{"id":"Condition","path":"PipelineStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PipelineStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PipelineStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}